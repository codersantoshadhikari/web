import{addElementToModal,displayModal,getLoadingHelper,}from"../theme/modules/helpers.min.js";let mermaidConfig={startOnLoad:!0,securityLevel:"loose",logLevel:"fatal",theme:"dark"};document.addEventListener("DOMContentLoaded",function(){mermaid.mermaidAPI.initialize(mermaidConfig),renderMermaids()});function renderMermaids(){let e=document.getElementsByClassName("language-mermaid");for(let t=0;t<e.length;t++){const n=`scMermaid${t}`,s=e[t].textContent;e[t].parentElement.replaceWith(getLoadingHelper("sc-mermaid-wrapper",n)),renderMermaid(n,s)}}function renderMermaid(e,t){const i=`${e}-svg`,o=document.getElementById(e),a=document.createDocumentFragment(),s=document.createElement("div"),n=document.createElement("a"),r=document.createElement("i");s.classList.add("sc-mermaid-container"),n.classList.add("is-action-button"),r.classList.add("fa-solid","fa-download"),n.id=`${e}-export-svg`,n.title=svgDownloadLabel,a.appendChild(s),s.appendChild(n),n.appendChild(r),o.appendChild(a);try{let r=function(e){s.insertAdjacentHTML("afterbegin",e)};mermaid.mermaidAPI.render(i,t,r);let a=document.getElementById(i),c=new Blob([a.outerHTML],{type:"image/svg+xml;charset=utf-8"});URL.revokeObjectURL(n.href),n.href=URL.createObjectURL(c),n.download=e,a.classList.toggle("sc-mermaid-svg",!0),a.classList.toggle("is-modal",!0),a.addEventListener("click",function(e){if(!e.target.closest("a")){let e=this.cloneNode(!0);addElementToModal(e),displayModal()}}),n.classList.toggle("is-hidden",!1),o.classList.toggle("is-loading",!1)}catch(i){const t=document.createElement("div");t.classList.add("sc-alert","sc-alert-error"),t.innerHTML=i,t.id=`${e}-error`,n.classList.toggle("is-hidden",!0),o.classList.toggle("is-loading",!1),s.insertAdjacentElement("afterbegin",t)}}