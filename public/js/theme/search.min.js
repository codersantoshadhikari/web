import{addFunctionToResizeEvent,hideSearchList,isSearchListHidden,showSearchList,removeActive,sortByProperties,}from"./modules/helpers.min.js";import{flexSearchThemeOptions,flexSearchOptions,}from"./modules/const.min.js";(function(){"use strict";let t=0,n=document.getElementById("search"),e=document.getElementById("searchList");const i=new FlexSearch.Document(flexSearchOptions);function j(e){e.endsWith("/")||(e=e+"/"),fetch(e+"index.json").then(e=>e.json()).then(e=>e.forEach(e=>i.add(e))).catch(()=>c())}function c(){n.setAttribute("disabled",""),n.setAttribute("title",naCommonLabel)}function p(){n.addEventListener("input",e=>{s(!0)}),n.addEventListener("focus",e=>{s(!1)}),n.addEventListener("keydown",function(n){if(e){let s=e.getElementsByTagName("li");n.key==="ArrowDown"?(n.preventDefault(),t++,o(s),r(e,s[t])):n.key==="ArrowUp"?(n.preventDefault(),t--,o(s),r(e,s[t])):n.key==="Enter"&&(n.preventDefault(),t>-1&&s&&s[t].childNodes[0].click())}}),document.addEventListener("click",function(e){e.target!==n?hideSearchList():s(!1)}),window.addEventListener("blur",function(){hideSearchList()})}function s(e){const s=n.value.trim();if(s.length>=flexSearchThemeOptions.minMatchCharLength){if(e){m(),t=-1;const e=i.search(s,{enrich:!0}),n=f(e);l(n,s)}showSearchList()}else hideSearchList()}function f(e){let t=[],n=[];return e.forEach(e=>{t=t.concat(e.result)}),t.filter((e,n)=>n===t.findIndex(t=>t.id===e.id)).sort((e,t)=>{e.id-t.id}).forEach(e=>{n.push(e.doc)}),n.sort(sortByProperties("rootTitleIndex"))}function l(e,t){let n=0,s=!1;for(const o of e){const i=g(o.title,t),a=v(o.content,t);(i.highlighted||a.highlighted)&&((n==0&&n==o.rootTitleIndex||n<o.rootTitleIndex)&&(n=o.rootTitleIndex,d(o)),u(o,i.output,a.output),s=!0)}s||h()}function d(t){const a=t.rootTitle||"N/A",r='<i class="'+t.rootTitleIcon+'"></i>',i=document.createElement("li"),n=document.createElement("a"),s=document.createElement("span"),o=document.createElement("span");n.setAttribute("href",t.rootTitlePath),n.setAttribute("title",t.rootTitleTitle),n.classList.add("level","is-mobile","is-title"),e.children.length===0&&n.classList.add("is-first-title"),s.classList.add("level-item","spre"),s.innerHTML=r,o.classList.add("level-item","stitle"),o.innerHTML=a,e.appendChild(i),i.appendChild(n),n.appendChild(s),n.appendChild(o)}function u(t,n,s){const d=n||"N/A",u=s||"N/A",l=document.createElement("li"),o=document.createElement("a"),i=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div");o.setAttribute("href",t.permalink),o.setAttribute("title",t.permalinkTitle),o.classList.add("level","is-mobile"),i.classList.add("level-left"),a.classList.add("level-right"),r.classList.add("level-item","scontent"),r.innerHTML=u,c.classList.add("level-item","spath"),c.innerHTML=d,e.appendChild(l),l.appendChild(o),o.appendChild(i),o.appendChild(a),i.appendChild(r),a.appendChild(c)}function h(){let t=document.createElement("li");e.classList.add("no-result"),t.classList.add("no-result","level-item","is-mobile"),t.removeAttribute("title"),t.innerHTML=searchNoResults,e.appendChild(t)}function m(){for(;e.lastChild;)e.removeChild(e.lastChild)}function o(e){if(!e||e.length===0)return!1;removeActive(e),t>=e.length&&(t=0),t<0&&(t=e.length-1),e[t].classList.add("is-selected")}function r(e,t){const o=e.getBoundingClientRect().bottom,n=e.getBoundingClientRect().top,i=t.getBoundingClientRect().bottom,s=t.getBoundingClientRect().top;i>o&&(t.clientHeight>e.clientHeight?e.scrollTop=Math.floor(s-n+e.scrollTop):(e.scrollTop=Math.floor(i-o+e.scrollTop),t===t.parentNode.lastChild&&(e.scrollTop=e.scrollTop+100))),s<n&&(e.scrollTop=Math.floor(s-n+e.scrollTop),t===t.parentNode.firstChild&&(e.scrollTop=0))}function g(e,t){let n=!1;return{highlighted:n,output:"<span>"+e.replace(a(t),function(e){return n=!0,"<strong>"+e+"</strong>"})+"</span>"}}function v(e,t){let n="",i=!1,o=!1;const r=flexSearchThemeOptions.lineDelimiter,c=flexSearchThemeOptions.inlineDelimiter,l=flexSearchThemeOptions.emptyLineDelimiter,s=flexSearchThemeOptions.highlightMaxCharOffset,d=a(t);for(const a of e.split(`
`)){let h=0,u=a.length;const t=b(a,d);if(t.length>0){o=!1,n=n.concat("<span>"),t[0][0]-s>h&&(h=t[0][0]-s,n=n.concat(r)),t[t.length-1][1]+s<u&&(u=t[t.length-1][1]+s);let l,e=t.shift(),d=!1;for(let o=h;o<u+1;o++)(l&&l[0]===o||e&&e[0]===o)&&(n=n.concat("<strong>"),i=!0),l&&o<=l[1]+s||e&&o>=e[0]-s?n=n.concat(a.charAt(o)):d||(n=n.concat(c),d=!0),(l&&l[1]===o||e&&e[1]===o)&&(n=n.concat("</strong>"),l=e,e=t.shift(),d=!1);u!==a.length&&(n=n.concat(r)),n=n.concat("</span><br>")}else o||(n=n.concat(l),o=!0)}return{highlighted:i,output:n}}function b(e,t){let n,s=[];for(;n=t.exec(e);)s.push([n.index,t.lastIndex-1]);return s}function a(e){let n=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],t="";for(const s of e){let o=!1;diacriticsLoop:for(let e=0;e<n.length;e++)for(const i of n[e].letters)if(s===i){t=t.concat("[",n[e].letters,"]"),o=!0;break diacriticsLoop}o||(t=t.concat("[",s,"]"))}return new RegExp(t,"gi")}const y=function(){isSearchListHidden()||hideSearchList()};addFunctionToResizeEvent(y),j(baseUrl),p()})()